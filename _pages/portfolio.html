---
layout: archive
title: " Selected Interactive Tools Portfolio"
permalink: /portfolio/
author_profile: true
---

<style>
  :root {
    --bg:#0b0d12;
    --card:#d4d9e0;
    --text:#000000;
     --text2:#f8f5f5;
    --muted:#000000;
    --accent:#4588be;
        --normal:#000000;
    --ring:rgba(118,183,255,.35);
    --border:rgba(255,255,255,.08);
  }
  .portfolio-wrap{
    font-family: Georgia, serif;
    color: var(--text);
  }
  .portfolio-intro{
    font-size: 14px;
    text-align: justify;
    margin: 0 0 16px 0;
    color: var(--normal); 
  }
  .section-title {
  text-align:center;
  font-size:20px;
  margin:28px 0 16px;
  color: var(--normal);           
  letter-spacing:.2px;            
}
.section-title.gradient {
  font-size: clamp(24px, 3.4vw, 34px);   /* larger text, scales with width */
  line-height: 1.35;                      /* more line spacing */
  letter-spacing: .3px;                   /* slight tracking for readability */
  background: linear-gradient(90deg, #010101, #000000 50%, #000000);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  margin-top: 4rem;  
  margin-bottom: 4rem;
}



  .grid{
    display:grid;
    grid-template-columns: repeat(1,minmax(0,1fr));
    gap:14px;
  }
  @media (min-width:700px){ .grid{ grid-template-columns: repeat(2,minmax(0,1fr)); } }
  @media (min-width:1000px){ .grid{ grid-template-columns: repeat(3,minmax(0,1fr)); } }

  .card{
    background: var(--card);
    border:1px solid var(--border);
    border-radius:16px;
    overflow:hidden;
    transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease;
  }
  .card:focus-within, .card:hover{
    transform: translateY(-2px);
    box-shadow: 0 8px 24px var(--ring);
    border-color: var(--ring);
  }
  .card-btn{
    display:block;
    width:100%;
    text-align:left;
    padding:14px;
    background:transparent;
    border:0;
    cursor:pointer;
    color:inherit;
  }
  .card-top{
    display:flex;
    /* align-items:center; */
    align-items:flex-start;      /* top-align both items */
    gap:12px;
    margin-bottom:10px;
  }
  .card-top .title{
  flex:1 1 auto;               /* let the title wrap as needed */
}
.card-top .pill{
  margin-left:auto;            /* push to the far right */
  align-self:flex-start;       /* pin to the top */
  white-space:nowrap;          /* keep year 路 role on one line */
}
  .pill{
    font-size:12px;
    color: var(--muted);
  }
  .title{
    font-weight:700;
    font-size:16px;
    line-height:1.25;
  }
  .thumb{
    width:100%;
    aspect-ratio:16/9;
    object-fit:cover;
    border-radius:12px;
    border:1px solid var(--border);
    margin-top:10px;
  }

  /* Modal */
  .modal-backdrop{
    position:fixed; inset:0; display:none;
    align-items:left; justify-content:center;
    background: rgba(67, 77, 98, 0.65);
    z-index:1000000;
    padding: 20px;  
  }
  .modal{
    /* width:min(960px,92vw); */
    /* width: min(1100px, 94vw); */
    width: 50vw;          /* percent of viewport width */
  max-width: 1100px;    /* keep a ceiling */
  min-width: 320px; 

  max-height: 88vh;
    background:#1a2233; 
    border:1px solid var(--border);
    border-radius:18px;
    overflow:hidden;
    box-shadow: 0 18px 60px rgba(0,0,0,.5);
    display:grid;
    grid-template-columns: 1.2fr 1fr;
  }
  @media (max-width:900px){ .modal{ grid-template-columns: 1fr; } }

  .modal-media{
    background:#1a2233;
    padding: 5px;
  }
  .modal-media img{
    width:100%; height:100%;
    object-fit:cover;
    display:block;
    border-radius: 5px;
  }
  .modal-body{
    padding:18px 18px 16px;
     overflow: auto;
  max-height: 88vh;
  }
  
  .modal-head{
    display:flex; align-items:flex-start; justify-content:space-between; gap:10px;
    margin-bottom:8px;
  }
  .modal-title{ font-size:18px; font-weight:700; color:var(--text2)}
  .modal-sub{ font-size:13px; color:var(--text2); margin-top:4px;}
  .modal-desc{ font-size:14px; color:var(--text2); opacity:.95; margin:10px 0 14px; text-align:justify;}
  .links{
    display:flex; flex-wrap:wrap; gap:8px;
  }
  .link-btn{
    text-decoration:none;
    font-size:13px;
    padding:8px 12px;
    border-radius:10px;
    background:#0f1726;
    border:1px solid var(--border);
    color: var(--accent);
  }
  .close-btn{
    background:#161b29;
    border:1px solid var(--border);
    color:var(--text2);
    border-radius:10px;
    padding:6px 10px;
    cursor:pointer;
  }

/* Theme for upcoming items */
.card.upcoming{
  background: linear-gradient(180deg, #dcdcde 0%, #cdcdcf 100%);
  border-color: rgba(255,255,255,.18);
  box-shadow: 0 10px 28px rgba(118,183,255,.18);
}
.card.upcoming:hover,
.card.upcoming:focus-within{
  box-shadow: 0 14px 36px rgba(118,183,255,.28);
}

/* Make the button feel special with a gradient ring */
.card.upcoming .card-btn{ position: relative; }
.card.upcoming .card-btn::before{
  content:"";
  position:absolute; inset:0;
  border-radius:16px;
  padding:1px;
  background: linear-gradient(135deg, #76b7ff, #b892ff, #76ffd2);
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor; mask-composite: exclude;
  pointer-events:none;
}

/* Title and meta color tweaks for visibility */
.card.upcoming .title{
  display:flex; align-items:center; gap:8px;
}
.status-chip{
  display:inline-flex; align-items:center;
  font-size:12px; font-weight:700; letter-spacing:.3px;
  padding:4px 10px; border-radius:999px;
  color:#0b0d12;
  background: linear-gradient(90deg, #ffd476, #ff9fcf);
  box-shadow: 0 6px 18px rgba(255,200,120,.25);
}
.card.upcoming .pill{ color:#0f0f10; opacity:.95; }

.card{ position:relative; }  /* required for .status-chip positioning */

/* Image treatment for upcoming */
.card.upcoming .thumb{ filter: saturate(1.05) brightness(.95); }

.card.upcoming .card-btn[disabled]{
  cursor:not-allowed;
  opacity:0.5;                         /* override browsers default dimming */
}

/* Placeholder when there is no image */
.thumb.placeholder{
  display:flex; align-items:center; justify-content:center;
  aspect-ratio:16/9;
  border-radius:12px;
  border:1px solid rgba(255,255,255,.1);
  background:
    repeating-linear-gradient(135deg, rgba(255,255,255,.06) 0 10px, transparent 10px 20px),
    radial-gradient(1200px 400px at 0% 0%, #22304a, #161b29 60%);
  color:#e7ecf3;
  font-weight:600;
}


</style>

<div class="portfolio-wrap">

  <p class="portfolio-intro">
    Explore a selection of interactive planning tools and research prototypes. Click any project card to view a larger preview and links.
  </p>

  <h3 class="section-title gradient">Micromobility and Multimodal Planning</h3>
  <div class="grid">
    <!-- Bikeshare Pro -->
    <article class="card">
      <button class="card-btn"
        data-title="Bikeshare Pro "
        data-yearrole="2023 路 Lead R&amp;D"
        data-sub="Ridership prediction, Station planning, Electrification, Transit integration"
        data-img="/images/bikeshare.png"
data-desc="A web decision-support tool for bike-share expansion, charger deployment, and multimodal integration, built on optimization and predictive models. Award-winning, piloted with partners, and scaled to 15+ cities."        data-links='[
          {"label":"Tool Description","href":"https://interactive-or.net/bikesharepro"},
          {"label":"Video","href":"https://www.youtube.com/watch?v=JYsBq0uCxRQ&list=PLMQSwmI9u1hxwkDlHrtIriCNH1xZ1m863"},
          {"label":"Paper Demo","href":"https://www.linkedin.com/posts/ghazaleh-mohseni-hosseinabadi_flow-maximizing-facility-location-using-continuum-activity-7291560428415991808-4foT"}
        ]'>
        <div class="card-top">
          <div class="title">Bikeshare Pro </div>
          <div class="pill">2023 路 Lead R&D</div>
        </div>
        <div class="pill">Ridership prediction, Station planning, Electrification, Transit integration</div>
        <img class="thumb" src="/images/bikeshare.png" alt="Bikeshare Pro preview">
      </button>
    </article>

    <!-- Real-Time Relocation -->
    <article class="card">
      <button class="card-btn"
        data-title="Real-Time Bike-Share Relocation Optimization"
        data-yearrole="2024 路 Researcher &amp; Product Developer"
        data-sub="Optimization for full and partial bike relocation"
        data-img="/images/relocation.png"
data-desc="Using a real-time API, we ingest station status and run a heuristic with a TSP solver to generate relocation routes that respect operational constraints (capacity, time windows), enabling partial or full rebalancing."
        data-links='[
          {"label":"Demo","href":"https://www.linkedin.com/posts/ghazaleh-mohseni-hosseinabadi_bikesharetoronto-activity-7293717346311946240-xz3H"}
        ]'>
        <div class="card-top">
          <div class="title">Real-Time Bike-Share Relocation Optimization</div>
          <div class="pill">2024 路 Researcher &<br> Product Developer</div>
        </div>
        <div class="pill">Optimization for full and partial bike relocation</div>
        <img class="thumb" src="/images/relocation.png" alt="Relocation optimizer preview">
      </button>
    </article>

    <!-- E-Scooter Planner -->
    <article class="card">
      <button class="card-btn"
        data-title="E-Scooter Planner"
        data-yearrole="2024 路 Lead R&amp;D"
        data-sub="Pick-up and drop-off prediction with transit integration"
        data-img="/images/scooter.png"
data-desc="Planning and analytics for free-floating fleets with demand prediction that incorporates weather, supports short- and long-term horizons, and integrates nearby transit stops and ridership."
        data-links='[]'>
        <div class="card-top">
          <div class="title">E-Scooter Planner</div>
          <div class="pill">2024 路 Lead R&D</div>
        </div>
        <div class="pill">Pick-up and drop-off prediction with transit integration</div>
        <img class="thumb" src="/images/scooter.png" alt="E-Scooter Planner preview">
      </button>
    </article>

    <!-- Multimodal Trip Planner -->
    <article class="card">
      <button class="card-btn"
        data-title="Multimodal Trip Planner"
        data-yearrole="2022 路 Lead R&amp;D"
        data-sub="Routing with KPIs: GHG, calories, transfers"
        data-img="/images/multimodal.png"
data-desc="Integrates bikeshare, transit, and driving in a single trip planner, with end to end routing and KPI comparisons (time, cost, GHG, transfers) to surface the best option for each scenario. This was my first project!"
        data-links='[
          {"label":"Demo","href":"https://www.linkedin.com/feed/update/urn:li:activity:7082171999480926208"}
        ]'>
        <div class="card-top">
          <div class="title">Multimodal Trip Planner</div>
          <div class="pill">2022 路 Lead R&D</div>
        </div>
        <div class="pill">Multimodal routing with KPIs: GHG, calories, transfers</div>
        <img class="thumb" src="/images/multimodal.png" alt="Multimodal planner preview">
      </button>
    </article>

    <!-- RideAlike -->
    <article class="card">
      <button class="card-btn"
        data-title="Peer-to-Peer Ridesharing"
        data-yearrole="2024 路 Lead R&D"
        data-sub="Supply and demand analysis using LLMs"
        data-img="/images/ridealike.png"
        data-desc="Descriptive analysis for marketplace supply and demand using LLM workflows."
        data-links='[]'>
        <div class="card-top">
          <div class="title">Peer-to-Peer Ridesharing</div>
          <div class="pill">2024 路 Lead R&D</div>
        </div>
        <div class="pill">Supply and demand analysis using LLMs</div>
        <img class="thumb" src="/images/ridealike.png" alt="RideAlike preview">
      </button>
    </article>

    <article class="card upcoming">
  <button class="card-btn" disabled
    data-title="Bike Lane Planning"
    data-yearrole="2025 路 Lead R&amp;D"
    data-sub="Corridor prioritization 路 equity and safety overlays"
    data-img=""
    data-desc="Network-wide scoring and phased roll-out for protected bike lanes. Launching soon."
    data-links='[]'>
    <div class="card-top">
      <div class="title">
        Bike Lane Planning
        <span class="status-chip">Coming soon</span>
      </div>
      <div class="pill">2025 路 Lead R&amp;D</div>
    </div>
    <div class="pill">Corridor prioritization 路 equity and safety overlays</div>
    <div class="thumb placeholder">Preview coming soon</div>
  </button>
</article>


  </div>

  <h3 class="section-title gradient">Electrification</h3>
  <div class="grid">
    <!-- EV Charger Pro -->
    <article class="card">
      <button class="card-btn"
        data-title="EV Charger Pro"
        data-yearrole="2024 路 Product Developer"
        data-sub="EV demand forecasting and charger siting"
        data-img="/images/evpro.png"
data-desc="EV charger siting with scenario planning that integrates travel survey patterns and vehicle ownership data to target high-use locations."        data-links='[
          {"label":"Demo","href":"https://interactive-or.net/evchargerplanning"}
        ]'>
        <div class="card-top">
          <div class="title">EV Charger Pro</div>
          <div class="pill">2024 路 Product Developer</div>
        </div>
        <div class="pill">EV demand forecasting and charger siting</div>
        <img class="thumb" src="/images/evpro.png" alt="EV Charger Pro preview">
      </button>
    </article>

    <!-- Electric Transit Scheduling Pro -->
    <article class="card">
      <button class="card-btn"
        data-title="Electric Transit Scheduling Pro"
        data-yearrole="2024 路 Researcher &amp; Lead Product Developer"
        data-sub="GTFS-based in-route charging optimization"
        data-img="/images/etransit.png"
        data-desc="Scheduling support for electric bus fleets with in-route and depot charging strategies."
        data-links='[
          {"label":"Demo","href":"https://www.linkedin.com/posts/mehdi-nourinejad-a0040843_transit-electrification-mta-activity-7200811915428651008-AfOE"},
          {"label":"Paper","href":"https://www.linkedin.com/posts/ghazaleh-mohseni-hosseinabadi_transit-electrification-interactive-operations-activity-7348460897138339840-DyTR"}
        ]'>
        <div class="card-top">
          <div class="title">Electric Transit Scheduling Pro</div>
          <div class="pill">2024 路 Researcher &<br> Lead Product Developer</div>
        </div>
        <div class="pill">GTFS-based in-route charging optimization</div>
        <img class="thumb" src="/images/etransit.png" alt="Electric Transit Scheduling preview">
      </button>
    </article>

    <!-- School Bus Charging -->
    <article class="card">
      <button class="card-btn"
        data-title="Charging Optimization for School Buses"
        data-yearrole="2024 路 Researcher &amp; Product Developer"
        data-sub="Depot cost minimization and charging windows"
        data-img="/images/schoolbus.png"
data-desc="Large-scale depot charging optimization with cost control and peak management. I implemented a custom heuristic and moved the compute kernel to WebAssembly for near native performance."
        data-links='[]'>
        <div class="card-top">
          <div class="title">Depot Charging Optimization</div>
          <div class="pill">2024 路 Researcher &<br> Product Developer</div>
        </div>
        <div class="pill">Depot cost minimization and charging windows</div>
        <img class="thumb" src="/images/schoolbus.png" alt="School bus charging preview">
      </button>
    </article>
  </div>

   <h3 class="section-title gradient">Emergency Management</h3>
  <div class="grid">
 <!-- ResponsePro -->
    <article class="card">
      <button class="card-btn"
        data-title="ResponsePro"
        data-yearrole="2024 路 Lead R&amp;D"
        data-sub="Fire station planning and response analytics"
        data-img="/images/responsepro.png"
data-desc="Deployment analytics and coverage evaluation for emergency services, already in use by Fire Chiefs in four cities. Includes incident prediction and station deployment optimization, with sensitive call data stored securely on Canadian servers using Google servicies."
        data-links='[
          {"label":"Tool","href":"https://interactive-or.net/responsepro"}
        ]'>
        <div class="card-top">
          <div class="title">ResponsePro</div>
          <div class="pill">2024 路 Lead R&D</div>
        </div>
        <div class="pill">Fire station planning and response analytics</div>
        <img class="thumb" src="/images/responsepro.png" alt="ResponsePro preview">
      </button>
    </article>

 <!-- Snow PlowingPro -->
    <article class="card">
      <button class="card-btn"
        data-title="Snow PlowingPro"
        data-yearrole="2024 路 Product Developer"
        data-sub="Arc-routing for winter maintenance"
        data-img="/images/snow.png"
data-desc="Developed with the City of Aurora. Phase 1 delivers optimized arc routing with route design and service level analytics. Phase 2 will add real-time fleet management, storm re-planning, and service-level monitoring."
        data-links='[
          {"label":"Tool Description","href":"https://interactive-or.net/snowplowpro"}
        ]'>
        <div class="card-top">
          <div class="title">Snow PlowingPro</div>
          <div class="pill">2024 路 Product Developer</div>
        </div>
        <div class="pill">Arc-routing for winter maintenance</div>
        <img class="thumb" src="/images/snow.png" alt="Snow PlowingPro preview">
      </button>
    </article>

    </div>


     <h3 class="section-title gradient">Transit Planning</h3>
  <div class="grid">

     <!-- Transit PlanningPro -->
    <article class="card">
      <button class="card-btn"
        data-title="Transit PlanningPro"
        data-yearrole="2024 路 Lead R&amp;D"
        data-sub="Network edits with KPIs from demand to congestion"
        data-img="/images/transitplanner.png"
data-desc="Interactive four stage workflow covering demand, congestion, network edits, and KPIs. This project is where I learned GTFS Static end to end: ingesting feeds, validating routes, trips, and stops, and turning them into networks and schedules for analysis."
        data-links='[
          {"label":"Demo","href":"https://www.linkedin.com/posts/ghazaleh-mohseni-hosseinabadi_transit-network-design-and-scheduling-we-activity-7310471035953258496-vr0D"},
          {"label":"Tool Description","href":"https://interactive-or.net/transit"}
        ]'>
        <div class="card-top">
          <div class="title">Transit PlanningPro</div>
          <div class="pill">2024 路 Lead R&D</div>
        </div>
        <div class="pill">Network edits with KPIs from demand to congestion</div>
        <img class="thumb" src="/images/transitplanner.png" alt="Transit planner preview">
      </button>
    </article>

 <article class="card upcoming">
  <button class="card-btn" disabled
    data-title="Transit Bunching Monitor and Prevention"
    data-yearrole="2025 路 R&amp;D Director"
    data-sub="Real-time headway analytics and bunching risk alerts"
    data-img=""
    data-desc="Live ingestion of GTFS-RT and AVL to estimate headways, predict bunching risk, predict bunching KPI in short-term, and suggest interventions."
    data-links='[]'>
    <div class="card-top">
      <div class="title">
        Transit Bunching Monitor and Prevention
        <span class="status-chip">Coming soon</span>
      </div>
      <div class="pill">2025 路 R&amp;D Director</div>
    </div>
    <div class="pill">Real-time headway analytics and bunching risk alerts</div>
    <div class="thumb placeholder">Preview coming soon</div>
  </button>
</article>
    </div>


  <h3 class="section-title gradient">Other Tools</h3>
  <div class="grid">

    <!-- Parking Pricing Tool -->
    <article class="card">
      <button class="card-btn"
        data-title="Parking Pricing Tool"
        data-yearrole="2024 路 Product Developer"
        data-sub="Adaptive pricing strategies for curbside management"
        data-img="/images/parking.png"
        data-desc="Elasticity-aware curb pricing with policy-driven scenarios."
        data-links='[
          {"label":"Demo","href":"https://www.linkedin.com/posts/mehdi-nourinejad-a0040843_parking-dynamicpricing-communityimprovement-activity-7225121703939518465-RWt6"}
        ]'>
        <div class="card-top">
          <div class="title">Parking Pricing Tool</div>
          <div class="pill">2024 路 Product Developer</div>
        </div>
        <div class="pill">Adaptive pricing strategies for curbside management</div>
        <img class="thumb" src="/images/parking.png" alt="Parking pricing preview">
      </button>
    </article>

    <!-- Vision Zero -->
    <article class="card">
      <button class="card-btn"
        data-title="Vision Zero Tool"
        data-yearrole="2023 路 Product Developer"
        data-sub="Automated Speed Enforcement camera allocation"
        data-img="/images/ase.png"
data-desc="Allocation strategies for ASE programs targeting high-risk corridors, interactive community safety zones analysis,  and cost-aware analysis that considers unit, installation, and operating costs to maximize safety impact per dollar under budget constraints."
        data-links='[
          {"label":"Tool Description","href":"https://interactive-or.net/ase"}
        ]'>
        <div class="card-top">
          <div class="title">Vision Zero Tool</div>
          <div class="pill">2023 路 Product Developer</div>
        </div>
        <div class="pill">Automated Speed Enforcement camera allocation and cost analysis</div>
        <img class="thumb" src="/images/ase.png" alt="Vision Zero ASE preview">
      </button>
    </article>

   <!-- TSP Game -->
    <article class="card">
      <button class="card-btn"
        data-title="TSP Game"
        data-yearrole="2024 路 Product Developer"
        data-sub="Gamifying Travel Salesman Problem"
        data-img="/images/tsp.png"
data-desc="Teach the complexity of solving traveling salesman problems as the problem size becomes larger - showing the NP-hard nature of the problem. "
        data-links=''>
        <div class="card-top">
          <div class="title">TSP Game</div>
          <div class="pill">2024 路 Product Developer</div>
        </div>
        <div class="pill">Explore and Play the Travel Salesman Problem (TSP) </div>
        <img class="thumb" src="/images/tsp.png" alt="Vision Zero ASE preview">
      </button>
    </article>

<!-- Wildfire Proof Pro (Upcoming) -->
<!-- <article class="card upcoming">
  <button class="card-btn" disabled
    data-title="Wildfire Proof Pro"
    data-yearrole="2025 路 R&amp;D Director"
    data-sub="Community risk, protection planning, and evacuation analytics"
    data-img=""
data-desc="Uses vegetation data to predict wildfire propagation and, with optimization models, recommends prioritized mitigation and response actions. Launching soon."
    data-links='[]'>
    <div class="card-top">
      <div class="title">
        Wildfire Proof Pro
        <span class="status-chip">Coming soon</span>
      </div>
      <div class="pill">2025 路 R&amp;D Director</div>
    </div>
    <div class="pill">Community risk, protection planning, and evacuation analytics</div>
    <div class="thumb placeholder">Preview coming soon</div>
  </button>
</article> -->

<!-- Traffic Assignment Tool (Upcoming) -->
<article class="card upcoming">
  <button class="card-btn" disabled
    data-title="Traffic Assignment Tool"
    data-yearrole="2025 路 R&amp;D Director"
    data-sub="Road network generation 路 construction-aware planning"
    data-img=""
    data-desc="We generate the road network and couple the planner with planned construction APIs. Users can add construction areas and time windows, then evaluate impacts on traffic flows, congestion, and related KPIs."
    data-links='[]'>
    <div class="card-top">
      <div class="title">
        Traffic Assignment Tool
        <span class="status-chip">Coming soon</span>
      </div>
      <div class="pill">2025 路 R&amp;D Director</div>
    </div>
    <div class="pill">Road network generation 路 construction-aware planning</div>
    <div class="thumb placeholder">Preview coming soon</div>
  </button>
</article>

  </div>

  <p style="text-align:center; margin:20px 0 6px; color: #000000;">
        For more, visit <a href="https://interactive-or.net/" target="_blank" rel="noopener">Interactive-OR</a>.

    <!-- For more, visit <a href="https://interactive-or.net/" target="_blank" rel="noopener">Interactive-OR</a> or <a href="https://github.com/ghazzaale" target="_blank" rel="noopener">GitHub</a>. -->
  </p>
</div>

<!-- Modal -->
<div class="modal-backdrop" id="modalBackdrop" aria-hidden="true">
  <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
    <div class="modal-media"><img id="modalImg" src="" alt=""></div>
    <div class="modal-body">
      <div class="modal-head">
        <div>
          <div id="modalTitle" class="modal-title"></div>
          <div id="modalSub" class="modal-sub"></div>
        </div>
        <button class="close-btn" id="modalClose">X</button>
      </div>
      <div id="modalDesc" class="modal-desc"></div>
      <div id="modalLinks" class="links"></div>
    </div>
  </div>
</div>

<script>
  const q = s => document.querySelector(s);
  const qa = s => Array.from(document.querySelectorAll(s));

  const backdrop = q('#modalBackdrop');
  const img = q('#modalImg');
  const title = q('#modalTitle');
  const sub = q('#modalSub');
  const desc = q('#modalDesc');
  const links = q('#modalLinks');
  const closeBtn = q('#modalClose');

  function openModal(data){
    img.src = data.img || '';
    img.alt = data.title ? data.title + ' preview' : 'Project preview';
    title.textContent = data.title || '';
    sub.textContent = data.yearrole ? data.yearrole + ' 路 ' + (data.sub || '') : (data.sub || '');
    desc.textContent = data.desc || '';
    links.innerHTML = '';
    try{
      const arr = JSON.parse(data.links || '[]');
      arr.forEach(x => {
        const a = document.createElement('a');
        a.href = x.href; a.target = '_blank'; a.rel = 'noopener';
        a.className = 'link-btn'; a.textContent = x.label;
        links.appendChild(a);
      });
    }catch(e){}
    backdrop.style.display = 'flex';
    backdrop.setAttribute('aria-hidden','false');
  }
  function closeModal(){
    backdrop.style.display = 'none';
    backdrop.setAttribute('aria-hidden','true');
  }
  qa('.card-btn').forEach(btn=>{
    btn.addEventListener('click',()=>{
      openModal({
        title: btn.dataset.title,
        yearrole: btn.dataset.yearrole,
        sub: btn.dataset.sub,
        img: btn.dataset.img,
        desc: btn.dataset.desc,
        links: btn.dataset.links
      });
    });
  });
  closeBtn.addEventListener('click', closeModal);
  backdrop.addEventListener('click', e => { if(e.target === backdrop) closeModal(); });
  document.addEventListener('keydown', e => { if(e.key === 'Escape') closeModal(); });
</script>